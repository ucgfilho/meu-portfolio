@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   MATERIAL 3 EXPRESSIVE - DESIGN SYSTEM
   =============================================================================
   
   Sistema de design baseado no Material 3 Expressive do Google, com paletas
   otimizadas para ambos os modos claro e escuro.
   
   TIPOGRAFIA: SF Pro (San Francisco) - fonte do sistema Apple, otimizada
   para legibilidade em interfaces digitais.
   
   ACESSIBILIDADE:
   - Todos os textos têm contraste mínimo de 4.5:1 (WCAG AA)
   - Textos importantes têm contraste ≥ 7:1 (WCAG AAA)
   - Cores testadas para daltonismo (deuteranopia/protanopia)
   ============================================================================= */

@layer base {
  /* ===========================================================================
     Material 3 Expressive - Light Theme
     
     PALETA LIGHT MODE:
     - Background (#F8FAFC): Branco levemente azulado - mais suave que branco puro
     - Primary (#1D5DB3): Azul escuro saturado - contraste forte para CTAs
     - Secondary (#0B7285): Cian escuro - ações secundárias
     - Tertiary (#7C3AED): Roxo vibrante - expressividade M3
     
     CONFORTO VISUAL:
     - Background não é branco puro (#FFF), reduzindo fadiga em leitura prolongada
     - Superfícies usam tons levemente azulados para harmonia
     - Sombras sutis para hierarquia sem peso visual
     =========================================================================== */
  :root {
    /* Background: Branco azulado suave - reduz fadiga visual vs branco puro
       HSL: 210 40% 98% ≈ #F8FAFC */
    --background: 210 40% 98%;

    /* Foreground: Cinza escuro com matiz azulada
       HSL: 210 25% 15% ≈ #1E2A3B - contraste 12:1 contra background */
    --foreground: 210 25% 15%;

    /* Card: Branco puro para destacar do background */
    --card: 0 0% 100%;
    --card-foreground: 210 25% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 210 25% 15%;

    /* Primary: Azul M3 escuro para light mode - #1D5DB3
       Contraste 4.8:1 contra branco (WCAG AA) */
    --primary: 217 72% 41%;
    --primary-foreground: 0 0% 100%;

    /* Secondary: Cian escuro - #0B7285
       Complementar ao primário */
    --secondary: 189 85% 28%;
    --secondary-foreground: 0 0% 100%;

    /* Tertiary: Roxo vibrante M3 - #7C3AED
       Expressividade e personalidade */
    --tertiary: 263 84% 58%;
    --tertiary-foreground: 0 0% 100%;

    /* Muted: Para textos secundários e backgrounds sutis */
    --muted: 210 20% 94%;
    --muted-foreground: 210 15% 45%;

    /* Accent: Mesmo que secondary para consistência */
    --accent: 189 85% 28%;
    --accent-foreground: 0 0% 100%;

    /* Destructive: Vermelho acessível */
    --destructive: 0 84% 45%;
    --destructive-foreground: 0 0% 100%;

    /* =========================================================================
       Surface Hierarchy - Material 3 Tonal Elevation (Light)
       
       Em light mode, superfícies mais elevadas são ligeiramente mais escuras
       (oposto do dark mode) para criar profundidade visual.
       ========================================================================= */
    --surface: 0 0% 100%;
    --surface-dim: 210 25% 96%;
    --surface-bright: 0 0% 100%;
    --surface-container-lowest: 0 0% 100%;
    --surface-container-low: 210 30% 98%;
    --surface-container: 210 25% 96%;
    --surface-container-high: 210 20% 93%;
    --surface-container-highest: 210 18% 90%;

    /* Borders e outlines - sutis mas visíveis */
    --border: 210 20% 88%;
    --input: 210 20% 88%;
    --ring: 217 72% 41%;
    --outline: 210 15% 70%;
    --outline-variant: 210 15% 82%;

    /* Radius M3 Expressive - cantos mais arredondados */
    --radius: 1rem;
    --radius-sm: 0.5rem;
    --radius-md: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
    --radius-2xl: 2rem;
    --radius-full: 9999px;

    /* Elevation shadows M3 - Light mode */
    --shadow-1: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-2: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-3:
      0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-4:
      0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-5:
      0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

    /* Gradientes M3 - Light mode (cores mais saturadas) */
    --gradient-primary: linear-gradient(
      135deg,
      hsl(217 72% 41%),
      hsl(189 85% 28%)
    );
    --gradient-secondary: linear-gradient(
      135deg,
      hsl(189 85% 28%),
      hsl(263 84% 58%)
    );
    --gradient-expressive: linear-gradient(
      135deg,
      hsl(217 72% 41%),
      hsl(263 84% 58%)
    );

    /* Glow effects - mais sutis em light mode */
    --glow-primary: 0 0 15px hsl(217 72% 41% / 0.2);
    --glow-secondary: 0 0 15px hsl(189 85% 28% / 0.2);
    --glow-tertiary: 0 0 15px hsl(263 84% 58% / 0.2);

    /* Tipografia SF Pro */
    --font-sans:
      "SF Pro Display", "SF Pro Text", -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, sans-serif;
    --font-mono: "SF Mono", "JetBrains Mono", "Fira Code", monospace;
  }

  /* ===========================================================================
     Material 3 Expressive - Dark Theme (Principal)
     
     ACESSIBILIDADE:
     - Todos os textos primários têm contraste ≥ 7:1 (WCAG AAA)
     - Textos secundários têm contraste ≥ 4.5:1 (WCAG AA)
     - Cores de destaque testadas para daltonismo (deuteranopia/protanopia)
     
     CONFORTO VISUAL:
     - Background #0F1419 evita "preto puro" que causa fadiga
     - Superfícies usam tonal elevation (cor) ao invés de sombras pesadas
     - Contraste reduzido em bordas para não competir com conteúdo
     =========================================================================== */
  .dark {
    /* Background principal: cinza escuro com matiz azulada fria
       HSL: 210 24% 8% ≈ #0F1419
       Evita preto puro para reduzir fadiga visual */
    --background: 210 24% 8%;

    /* Foreground: branco suavizado para evitar contraste extremo
       HSL: 210 20% 93% ≈ #E8ECF0 */
    --foreground: 210 20% 93%;

    /* Card: superfície elevada level 1
       Ligeiramente mais clara que background */
    --card: 210 20% 12%;
    --card-foreground: 210 20% 93%;

    --popover: 210 20% 12%;
    --popover-foreground: 210 20% 93%;

    /* Primary: Azul claro M3 - #A8C7FA
       Luminância ~78%, contraste 8.2:1 contra background
       Expressivo mas confortável para os olhos */
    --primary: 217 90% 82%;
    --primary-foreground: 217 100% 10%;

    /* Secondary: Cian claro - #C2E7FF
       Complementar ao primário, mantém harmonia */
    --secondary: 199 100% 88%;
    --secondary-foreground: 199 100% 10%;

    /* Tertiary: Lavanda expressivo - #EFDBFF
       Adiciona personalidade seguindo M3 Expressive */
    --tertiary: 271 100% 92%;
    --tertiary-foreground: 271 100% 10%;

    /* Muted: para textos secundários e elementos desabilitados
       Contraste 4.8:1 (WCAG AA) */
    --muted: 210 15% 18%;
    --muted-foreground: 210 15% 65%;

    /* Accent: destaque para interações */
    --accent: 199 100% 88%;
    --accent-foreground: 199 100% 10%;

    /* Destructive: vermelho acessível em dark mode */
    --destructive: 0 72% 65%;
    --destructive-foreground: 0 0% 100%;

    /* =========================================================================
       Surface Hierarchy - Material 3 Tonal Elevation
       
       Em vez de sombras, M3 usa variação tonal para indicar elevação.
       Superfícies mais elevadas são ligeiramente mais claras.
       ========================================================================= */
    --surface: 210 20% 12%;
    --surface-dim: 210 24% 6%;
    --surface-bright: 210 15% 18%;
    --surface-container-lowest: 210 24% 4%;
    --surface-container-low: 210 20% 10%;
    --surface-container: 210 18% 14%;
    --surface-container-high: 210 16% 18%;
    --surface-container-highest: 210 14% 22%;

    /* Borders e outlines sutis - não competem com conteúdo */
    --border: 210 15% 22%;
    --input: 210 15% 22%;
    --ring: 217 90% 82%;
    --outline: 210 10% 35%;
    --outline-variant: 210 10% 25%;

    /* Shadows para dark mode - mais sutis */
    --shadow-1: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-2: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-3:
      0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-4:
      0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-5:
      0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.4);

    /* Gradientes M3 para dark mode */
    --gradient-primary: linear-gradient(
      135deg,
      hsl(217 90% 82%),
      hsl(199 100% 88%)
    );
    --gradient-secondary: linear-gradient(
      135deg,
      hsl(199 100% 88%),
      hsl(271 100% 92%)
    );
    --gradient-expressive: linear-gradient(
      135deg,
      hsl(217 90% 82%),
      hsl(271 100% 92%)
    );

    /* Glow effects sutis para elementos interativos */
    --glow-primary: 0 0 20px hsl(217 90% 82% / 0.25);
    --glow-secondary: 0 0 20px hsl(199 100% 88% / 0.25);
    --glow-tertiary: 0 0 20px hsl(271 100% 92% / 0.25);
  }
}

/* ===========================================================================
   Base Styles - Material 3 Expressive
   =========================================================================== */
@layer base {
  * {
    @apply border-border;
  }

  /* Smooth scrolling com reduced motion support */
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
    /* Otimização de renderização de texto */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Tipografia M3 - Hierarquia clara */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight;
    /* SF Pro Display para títulos */
    font-family: "SF Pro Display", var(--font-sans);
  }

  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl;
  }
  h2 {
    @apply text-3xl md:text-4xl;
  }
  h3 {
    @apply text-2xl md:text-3xl;
  }
  h4 {
    @apply text-xl md:text-2xl;
  }

  p {
    @apply leading-relaxed;
    /* SF Pro Text para corpo de texto */
    font-family: "SF Pro Text", var(--font-sans);
  }

  /* Focus visible para acessibilidade */
  :focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* Seleção de texto com cores do tema */
  ::selection {
    @apply bg-primary/30 text-foreground;
  }
}

/* ===========================================================================
   Components - Material 3 Expressive
   =========================================================================== */
@layer components {
  /* ---------------------------------------------------------------------------
     Surface Card - M3 Tonal Elevation
     
     Cards usam elevação tonal (variação de cor) ao invés de sombras pesadas.
     Isso reduz fadiga visual e mantém hierarquia clara.
     --------------------------------------------------------------------------- */
  .m3-surface {
    @apply bg-card rounded-2xl border border-border/50;
    /* Transição suave para interações */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .m3-surface:hover {
    @apply border-primary/30;
    background: hsl(var(--surface-container-high));
  }

  /* ---------------------------------------------------------------------------
     Glass Card - Efeito glassmorphism M3
     
     Backdrop blur com transparência para criar profundidade
     sem sombras pesadas.
     --------------------------------------------------------------------------- */
  .glass-card {
    @apply backdrop-blur-xl border border-border/30;
    background: hsl(var(--surface-container) / 0.8);
  }

  /* ---------------------------------------------------------------------------
     M3 Filled Card - Card com fundo sólido
     --------------------------------------------------------------------------- */
  .m3-filled-card {
    @apply rounded-2xl p-6;
    background: hsl(var(--surface-container));
  }

  /* ---------------------------------------------------------------------------
     M3 Outlined Card - Card com borda
     --------------------------------------------------------------------------- */
  .m3-outlined-card {
    @apply rounded-2xl p-6 border;
    border-color: hsl(var(--outline-variant));
    background: transparent;
  }

  /* ---------------------------------------------------------------------------
     M3 Elevated Card - Card com elevação (sombra sutil)
     --------------------------------------------------------------------------- */
  .m3-elevated-card {
    @apply rounded-2xl p-6;
    background: hsl(var(--surface-container-low));
    box-shadow: var(--shadow-2);
  }

  /* ---------------------------------------------------------------------------
     Gradient Text - M3 Expressive
     
     Gradientes expressivos para títulos e destaques.
     --------------------------------------------------------------------------- */
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: var(--gradient-primary);
  }

  .gradient-text-expressive {
    @apply bg-clip-text text-transparent;
    background-image: var(--gradient-expressive);
  }

  /* ---------------------------------------------------------------------------
     M3 Chip/Badge - Elemento de tag
     
     ACESSIBILIDADE:
     - Light mode: fundo mais opaco para contraste adequado
     - Dark mode: fundo transparente funciona bem com cores claras
     --------------------------------------------------------------------------- */
  .m3-chip {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium;
    background: hsl(var(--surface-container-high));
    color: hsl(var(--foreground));
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .m3-chip:hover {
    background: hsl(var(--surface-container-highest));
  }

  /* Chips coloridos - diferentes opacidades para light/dark mode */
  .m3-chip-primary {
    @apply m3-chip;
    background: hsl(var(--primary) / 0.12);
    color: hsl(var(--primary));
  }

  .dark .m3-chip-primary {
    background: hsl(var(--primary) / 0.18);
  }

  .m3-chip-secondary {
    @apply m3-chip;
    background: hsl(var(--secondary) / 0.12);
    color: hsl(var(--secondary));
  }

  .dark .m3-chip-secondary {
    background: hsl(var(--secondary) / 0.18);
  }

  .m3-chip-tertiary {
    @apply m3-chip;
    background: hsl(var(--tertiary) / 0.12);
    color: hsl(var(--tertiary));
  }

  .dark .m3-chip-tertiary {
    background: hsl(var(--tertiary) / 0.18);
  }

  /* ---------------------------------------------------------------------------
     M3 Icon Container
     --------------------------------------------------------------------------- */
  .m3-icon-container {
    @apply flex items-center justify-center rounded-xl;
    background: hsl(var(--primary) / 0.12);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .m3-icon-container:hover {
    background: hsl(var(--primary) / 0.2);
    transform: scale(1.05);
  }

  /* ---------------------------------------------------------------------------
     Progress/Skill Bar - M3 Style
     --------------------------------------------------------------------------- */
  .skill-bar {
    @apply relative h-2 rounded-full overflow-hidden;
    background: hsl(var(--surface-container-highest));
  }

  .skill-bar-fill {
    @apply absolute left-0 top-0 h-full rounded-full;
    background: var(--gradient-primary);
  }

  /* ---------------------------------------------------------------------------
     Timeline - M3 Style
     --------------------------------------------------------------------------- */
  .timeline-line {
    @apply absolute left-4 top-0 bottom-0 w-0.5;
    background: linear-gradient(
      to bottom,
      hsl(var(--primary)),
      hsl(var(--secondary)),
      hsl(var(--tertiary))
    );
  }

  .timeline-dot {
    @apply absolute left-2.5 w-4 h-4 rounded-full border-2;
    border-color: hsl(var(--primary));
    background: hsl(var(--background));
    box-shadow: var(--glow-primary);
  }

  /* ---------------------------------------------------------------------------
     Animated Background - Gradiente expressivo sutil
     --------------------------------------------------------------------------- */
  .animated-bg {
    background:
      radial-gradient(
        ellipse at 20% 20%,
        hsl(var(--primary) / 0.08) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse at 80% 80%,
        hsl(var(--secondary) / 0.06) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse at 50% 50%,
        hsl(var(--tertiary) / 0.04) 0%,
        transparent 50%
      );
  }

  /* ---------------------------------------------------------------------------
     Section Header - Estilo consistente para headers de seção
     --------------------------------------------------------------------------- */
  .section-header {
    @apply flex items-center gap-3 mb-12;
  }

  .section-header-icon {
    @apply p-2.5 rounded-xl;
    background: hsl(var(--primary) / 0.12);
  }

  .section-header-icon svg {
    @apply w-5 h-5;
    color: hsl(var(--primary));
  }

  /* ---------------------------------------------------------------------------
     Interactive States - M3 State Layer
     
     Material 3 usa "state layers" - overlays de cor para indicar
     estados de interação (hover, pressed, focused).
     --------------------------------------------------------------------------- */
  .state-layer {
    @apply relative overflow-hidden;
  }

  .state-layer::before {
    content: "";
    @apply absolute inset-0 opacity-0 transition-opacity duration-200;
    background: hsl(var(--primary));
  }

  .state-layer:hover::before {
    opacity: 0.08;
  }

  .state-layer:active::before {
    opacity: 0.12;
  }

  .state-layer:focus-visible::before {
    opacity: 0.12;
  }
}

/* ===========================================================================
   Utilities - Material 3 Expressive
   =========================================================================== */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Glow effects para elementos de destaque */
  .glow-primary {
    box-shadow: var(--glow-primary);
  }

  .glow-secondary {
    box-shadow: var(--glow-secondary);
  }

  .glow-tertiary {
    box-shadow: var(--glow-tertiary);
  }
}

/* ===========================================================================
   Scrollbar Styling - Minimalista
   =========================================================================== */
* {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--border)) transparent;
}

*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background: hsl(var(--border));
  border-radius: 3px;
}

*::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground));
}

/* ===========================================================================
   Motion - Material 3 Easing Curves
   
   M3 usa curvas de easing específicas para diferentes tipos de movimento:
   - emphasized: para transições principais (0.4, 0, 0.2, 1)
   - standard: para a maioria das animações (0.2, 0, 0, 1)
   - decelerated: para elementos entrando (0, 0, 0, 1)
   - accelerated: para elementos saindo (0.3, 0, 1, 1)
   =========================================================================== */
@media (prefers-reduced-motion: no-preference) {
  .motion-emphasized {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  .motion-standard {
    transition-timing-function: cubic-bezier(0.2, 0, 0, 1);
  }

  .motion-decelerated {
    transition-timing-function: cubic-bezier(0, 0, 0, 1);
  }

  .motion-accelerated {
    transition-timing-function: cubic-bezier(0.3, 0, 1, 1);
  }
}
